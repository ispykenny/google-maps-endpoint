
require('dotenv').config();
const express = require('express');
const app = express();
const imageDataURI = require('image-data-uri');

app.use((req, res, next) => {
  res.header("Access-Control-Allow-Origin", "*");
  res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");
  next();
});


app.get('/', (req, res, err) => {
  let url = 'https://maps.googleapis.com/maps/api/staticmap?center='
  
  if(req.query.city) {
    url += req.query.city
  }

  if(req.query.size) {
    url += `&size=${req.query.size}`
  }


  url += `&key=${process.env.APIKEY}`

  imageDataURI.encodeFromURL(url)
    .then(resp => {
      res.json(resp)
      console.log('visited')
    })
    .catch((err) => console.log(err))

  
})

app.listen(5000, () => console.log('logging...'))


"data:image/png;base64,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"

"data:image/png;base64,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"